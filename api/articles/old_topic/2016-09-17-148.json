{"title":"Python多分隔符号拆分字符串","uid":"3988d823db5f3d6aedfba2bc8caffd2b","slug":"old_topic/2016-09-17-148","date":"2016-09-17T14:50:18.000Z","updated":"2024-03-16T11:44:51.843Z","comments":true,"path":"api/articles/old_topic/2016-09-17-148.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":[],"content":"<p>如下代码，实现python多个分隔符拆分字符串。</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">tsplit</span>(<span class=\"params\">string, delimiters</span>):</span><br><span class=\"line\">    <span class=\"string\">&quot;&quot;&quot;Behaves str.split but supports multiple delimiters.&quot;&quot;&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    delimiters = <span class=\"built_in\">tuple</span>(delimiters)</span><br><span class=\"line\">    stack = [string,]</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> delimiter <span class=\"keyword\">in</span> delimiters:</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i, substring <span class=\"keyword\">in</span> <span class=\"built_in\">enumerate</span>(stack):</span><br><span class=\"line\">            substack = substring.split(delimiter)</span><br><span class=\"line\">            stack.pop(i)</span><br><span class=\"line\">            <span class=\"keyword\">for</span> j, _substring <span class=\"keyword\">in</span> <span class=\"built_in\">enumerate</span>(substack):</span><br><span class=\"line\">                stack.insert(i+j, _substring)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> stack</span><br></pre></td></tr></table></figure>\n<p>很多时候我们需要用多个分隔符拆分字符串，例如拆分标签时，既要用中文的分号，也要用到英文的分号。</p>\n<p>如下是使用方法：</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span>s = <span class=\"string\">&#x27;thing1,thing2/thing3-thing4&#x27;</span></span><br><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span>tsplit(s, (<span class=\"string\">&#x27;,&#x27;</span>, <span class=\"string\">&#x27;/&#x27;</span>, <span class=\"string\">&#x27;-&#x27;</span>))</span><br><span class=\"line\">[<span class=\"string\">&#x27;thing1&#x27;</span>, <span class=\"string\">&#x27;thing2&#x27;</span>, <span class=\"string\">&#x27;thing3&#x27;</span>, <span class=\"string\">&#x27;thing4&#x27;</span>]</span><br></pre></td></tr></table></figure>\n<p>感谢作者分享：<br />\n<a href=\"http://outofmemory.cn/code-snippet/814/python-use-duoge-separator-chaifen-string\">http://outofmemory.cn/code-snippet/814/python-use-duoge-separator-chaifen-string</a></p>\n<p>程序员听说需求改了<br />\n<img src=\"http://wx1.sinaimg.cn/mw690/e31930d3ly1fdcy57e898g206y06ex6p.gif\" alt=\"程序员听到需求改了\" /></p>\n","text":"如下代码，实现python多个分隔符拆分字符串。 1234567891011121314def tsplit(string, delimiters): \"\"\"Behaves str.split but supports multiple delimiters.\"\"\" delimi...","link":"","photos":[],"count_time":{"symbolsCount":852,"symbolsTime":"1 mins."},"categories":[{"name":"topic","slug":"topic","count":308,"path":"api/categories/topic.json"}],"tags":[],"toc":"","author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"关于 OPENRESTY 的两三事","uid":"a924894efc1b5c05addcec2e153c3f2f","slug":"old_topic/2016-09-17-135","date":"2016-09-17T14:50:18.000Z","updated":"2024-03-16T11:44:51.840Z","comments":true,"path":"api/articles/old_topic/2016-09-17-135.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":null,"text":"编辑：糖果 基础原理 Nginx 采用的是 master-worker 模型，一个 master 进程管理多个 worker 进程，基本的事件处理都是放在 woker 中，master 负责一些全局初始化，以及对 worker 的管理。 每个 woker 使用一个 LuaVM，当...","link":"","photos":[],"count_time":{"symbolsCount":"11k","symbolsTime":"10 mins."},"categories":[{"name":"topic","slug":"topic","count":308,"path":"api/categories/topic.json"}],"tags":[{"name":"lua","slug":"lua","count":124,"path":"api/tags/lua.json"}],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"Nginx用户权限(文件读写时候应该注意到的问题)","uid":"f92daeec6e530de0b09511ed8dbb5099","slug":"old_topic/2016-09-17-142","date":"2016-09-17T14:50:18.000Z","updated":"2024-03-16T11:44:51.841Z","comments":true,"path":"api/articles/old_topic/2016-09-17-142.json","keywords":"AIGC,LLM,糖果AIGC实验室","cover":null,"text":"Nginx用户权限 Nginx用户权限 有时候当Nginx读取本地目录时会收到403错误，权限问题。 先来了解一下Nginx的用户管理，Nginx在以Linux service脚本启动时，通过start-stop-domain启动，会以root权限运行daemon进程。 然后da...","link":"","photos":[],"count_time":{"symbolsCount":514,"symbolsTime":"1 mins."},"categories":[{"name":"topic","slug":"topic","count":308,"path":"api/categories/topic.json"}],"tags":[],"author":{"name":"安全书","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"《墨守之道-Web服务安全架构与实践》","socials":{"github":"https://github.com/shengnoah","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3732639263","zhihu":"https://www.zhihu.com/people/openresty","csdn":"","juejin":"","customs":{}}}}}